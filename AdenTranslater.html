<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aden Translator ‚Äî Premium</title>
  <meta name="description" content="Aden Translator ‚Äî Premium, neon-green, glass UI translator interface. Funciona con LibreTranslate p√∫blico (sin API key)." />
  <style>
    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(9,250,150,0.06), transparent 8%),
                  radial-gradient(900px 500px at 90% 80%, rgba(32,200,255,0.04), transparent 10%),
                  #071014;
      color:#e6fff8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:36px;
      display:flex;align-items:center;justify-content:center;
    }
    .card{
      width:100%;max-width:1100px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:18px;
      padding:24px;backdrop-filter: blur(10px) saturate(140%);
      box-shadow: 0 10px 40px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border:1px solid rgba(9,250,150,0.12);
      position:relative;
      overflow:hidden;
    }
    .neon-top{
      position:absolute;left:-20%;top:-40%;width:160%;height:160%;
      background: conic-gradient(from 180deg at 50% 50%, transparent 0deg, rgba(9,250,150,0.06) 20deg, transparent 120deg);
      transform: rotate(12deg);
      pointer-events:none;mix-blend-mode:screen;
    }
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .brand{display:flex;gap:14px;align-items:center}
    .logo{
      width:62px;height:62px;border-radius:14px;display:flex;align-items:center;justify-content:center;
      background: linear-gradient(135deg, rgba(9,250,150,0.14), rgba(0,255,190,0.06));
      border:1px solid rgba(9,250,150,0.12);box-shadow:0 6px 18px rgba(0,255,150,0.04);
      font-weight:700;color:#c7ffee;font-size:18px;backdrop-filter:blur(6px);
    }
    h1{font-size:18px;letter-spacing:0.2px}
    p.lead{opacity:0.75;font-size:13px}
    .main{display:grid;grid-template-columns:1fr 360px;gap:18px}
    .editor{display:flex;flex-direction:column;gap:12px}
    .controls{display:flex;gap:8px;align-items:center}
    select, button, .api-input{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:10px 12px;border-radius:10px;color:inherit;font-size:13px}
    .select-wrap{display:flex;gap:8px}
    textarea{min-height:220px;resize:vertical;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:rgba(0,0,0,0.25);color:inherit;font-size:15px}
    .actions{display:flex;gap:8px}
    .btn{
      padding:10px 12px;border-radius:10px;border:1px solid rgba(9,250,150,0.18);background:linear-gradient(180deg, rgba(9,250,150,0.06), rgba(9,250,150,0.02)); color:#00110a;font-weight:700;cursor:pointer;transition:all .18s ease;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(9,250,150,0.06)}
    .sidebar{display:flex;flex-direction:column;gap:12px;padding:12px;border-left:1px solid rgba(255,255,255,0.02)}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
    label{font-size:12px;display:block;margin-bottom:6px;opacity:0.9}
    .small{font-size:12px;opacity:0.8}
    .result{min-height:220px;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.12));white-space:pre-wrap;}
    footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .muted{opacity:0.7;font-size:12px}
    .swap{cursor:pointer;padding:8px;border-radius:10px;border:1px dashed rgba(255,255,255,0.03)}
    .status{font-size:12px;opacity:0.85}
    @media (max-width:980px){
      .main{grid-template-columns:1fr}
      .sidebar{order:2}
    }
  </style>
</head>
<body>
<div class="card" role="application" aria-label="Aden Translator">
  <div class="neon-top" aria-hidden="true"></div>

  <header>
    <div class="brand">
      <div class="logo">AD</div>
      <div>
        <h1>Aden Translator</h1>
        <p class="lead">Premium, minimalistic translator ‚Äî neon green & glass UI. R√°pido, claro y f√°cil de usar.</p>
      </div>
    </div>
    <div class="status">Lista ‚Ä¢ <span id="version">v1.0</span></div>
  </header>

  <div class="main">
    <section class="editor" aria-label="Editor">
      <div class="controls">
        <div class="select-wrap">
          <div>
            <label for="source">De</label>
            <select id="source"><option value="auto">Detectar autom√°ticamente</option></select>
          </div>
          <div>
            <label for="target">A</label>
            <select id="target"></select>
          </div>
          <div class="swap" id="swapBtn" title="Intercambiar idiomas">üîÅ</div>
        </div>
        <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
          <button class="btn" id="translateBtn">Traducir</button>
          <button class="btn" id="clearBtn">Limpiar</button>
        </div>
      </div>
      <textarea id="inputText" placeholder="Escribe o pega texto aqu√≠..."></textarea>
      <div class="actions">
        <button class="btn" id="copyInput">Copiar original</button>
        <button class="btn" id="copyOutput">Copiar traducci√≥n</button>
        <button class="btn" id="ttsBtn">Leer resultado</button>
      </div>
    </section>

    <aside class="sidebar" aria-label="Controles">
      <div class="panel">
        <label>Modelo</label>
        <select id="modelSelect"><option value="libre">LibreTranslate (p√∫blico)</option></select>
        <div class="small">Usando mirror p√∫blico sin API key (Argos OpenTech)</div>
      </div>
      <div class="panel">
        <label>Resultado</label>
        <div class="result" id="outputText" aria-live="polite">La traducci√≥n aparecer√° aqu√≠.</div>
      </div>
      <div class="panel">
        <label>Historial</label>
        <div id="history" class="small">(vac√≠o)</div>
      </div>
    </aside>
  </div>

  <footer>
    <div class="muted">Aden ‚Ä¢ Translator ‚Äî est√©tica neon verde + cristal templado</div>
    <div class="muted">Atajos: Ctrl+Enter = Traducir</div>
  </footer>
</div>

<script>
const languagesFallback = {
  'af':'Afrikaans','sq':'Albanian','am':'Amharic','ar':'Arabic','hy':'Armenian','az':'Azerbaijani','eu':'Basque','be':'Belarusian','bn':'Bengali','bs':'Bosnian','bg':'Bulgarian','ca':'Catalan','ceb':'Cebuano','ny':'Chichewa','zh':'Chinese','zh-TW':'Chinese (Traditional)','co':'Corsican','hr':'Croatian','cs':'Czech','da':'Danish','nl':'Dutch','en':'English','eo':'Esperanto','et':'Estonian','tl':'Filipino','fi':'Finnish','fr':'French','fy':'Frisian','gl':'Galician','ka':'Georgian','de':'German','el':'Greek','gu':'Gujarati','ht':'Haitian Creole','ha':'Hausa','he':'Hebrew','hi':'Hindi','hmn':'Hmong','hu':'Hungarian','is':'Icelandic','ig':'Igbo','id':'Indonesian','ga':'Irish','it':'Italian','ja':'Japanese','jw':'Javanese','kn':'Kannada','kk':'Kazakh','km':'Khmer','ko':'Korean','ku':'Kurdish (Kurmanji)','ky':'Kyrgyz','lo':'Lao','la':'Latin','lv':'Latvian','lt':'Lithuanian','lb':'Luxembourgish','mk':'Macedonian','mg':'Malagasy','ms':'Malay','ml':'Malayalam','mt':'Maltese','mi':'Maori','mr':'Marathi','mn':'Mongolian','my':'Myanmar (Burmese)','ne':'Nepali','no':'Norwegian','ps':'Pashto','fa':'Persian','pl':'Polish','pt':'Portuguese','pa':'Punjabi','ro':'Romanian','ru':'Russian','sm':'Samoan','gd':'Scots Gaelic','sr':'Serbian','st':'Sesotho','sn':'Shona','sd':'Sindhi','si':'Sinhala','sk':'Slovak','sl':'Slovenian','so':'Somali','es':'Spanish','su':'Sundanese','sw':'Swahili','sv':'Swedish','tg':'Tajik','ta':'Tamil','te':'Telugu','th':'Thai','tr':'Turkish','uk':'Ukrainian','ur':'Urdu','uz':'Uzbek','vi':'Vietnamese','cy':'Welsh','xh':'Xhosa','yi':'Yiddish','yo':'Yoruba','zu':'Zulu'
};

const sourceSelect = document.getElementById('source');
const targetSelect = document.getElementById('target');
const inputText = document.getElementById('inputText');
const outputText = document.getElementById('outputText');
const translateBtn = document.getElementById('translateBtn');
const clearBtn = document.getElementById('clearBtn');
const historyBox = document.getElementById('history');
const swapBtn = document.getElementById('swapBtn');
const copyInputBtn = document.getElementById('copyInput');
const copyOutputBtn = document.getElementById('copyOutput');
const ttsBtn = document.getElementById('ttsBtn');

let history = [];

function populateLanguages(){
  for(const [code,name] of Object.entries(languagesFallback)){
    const o1 = document.createElement('option'); o1.value = code; o1.textContent = name; sourceSelect.appendChild(o1);
    const o2 = document.createElement('option'); o2.value = code; o2.textContent = name; targetSelect.appendChild(o2);
  }
  sourceSelect.value='auto'; targetSelect.value='en';
}
populateLanguages();

function setStatus(msg){ document.getElementById('version').textContent = msg }
function pushHistory(item){ history.unshift(item); if(history.length>12) history.pop(); renderHistory(); }
function renderHistory(){ 
  if(history.length===0) historyBox.textContent='(vac√≠o)'; 
  else historyBox.innerHTML = history.map(h=>`<div style="margin-bottom:8px"><strong>${h.from} ‚Üí ${h.to}</strong><div class="small">${escapeHtml(h.input).slice(0,180)}</div></div>`).join('') 
}
function escapeHtml(s){ return (s||'').replace && s.replace(/[&<>'"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])) }

// -------------------------
// translate using Argos OpenTech mirror
// -------------------------
async function translateText(text, from, to) {
  try {
    const endpoint = "https://translate.argosopentech.com/translate";
    const payload = { q:text, source: from===""||from==="auto"?"auto":from, target:to, format:"text" };
    const resp = await fetch(endpoint,{method:"POST",body:JSON.stringify(payload),headers:{"Content-Type":"application/json"}});
    if(!resp.ok){ const txt = await resp.text(); throw new Error(`HTTP ${resp.status}: ${txt}`); }
    const data = await resp.json();
    if(data && (data.translatedText || data.result || data.error)){
      if(data.error) throw new Error(data.error);
      return data.translatedText || data.result;
    }
    throw new Error("Respuesta inesperada del servidor");
  } catch(err){ console.error("Translation error:",err); return "‚ö†Ô∏è Error al traducir (LibreTranslate no disponible o l√≠mite alcanzado)."; }
}

// Translation logic
async function translate(){
  const text = inputText.value.trim();
  if(!text){ outputText.textContent='Introduce texto para traducir.'; return; }
  const source = sourceSelect.value==='auto'?'':sourceSelect.value;
  const target = targetSelect.value;
  outputText.textContent='Traduciendo...';
  setStatus('traduciendo');
  try{
    const translated = await translateText(text, source, target);
    outputText.textContent=translated;
    pushHistory({from:source||'auto',to:target,input:text});
    setStatus('listo');
  }catch(err){
    outputText.textContent='‚ö†Ô∏è Error: '+(err && err.message?err.message:'Error desconocido');
    setStatus('error');
  }
}

// Events
translateBtn.addEventListener('click',translate);
clearBtn.addEventListener('click',()=>{ inputText.value=''; outputText.textContent='La traducci√≥n aparecer√° aqu√≠.'; setStatus('v1.0'); });
swapBtn.addEventListener('click',()=>{ const a=sourceSelect.value; const b=targetSelect.value; if(a==='auto'){ if(b==='auto') return; sourceSelect.value=b; targetSelect.value='auto'; return; } sourceSelect.value=b; targetSelect.value=a; });
copyInputBtn.addEventListener('click',async()=>{ try{ await navigator.clipboard.writeText(inputText.value); copyInputBtn.textContent='Copiado'; setTimeout(()=>copyInputBtn.textContent='Copiar original',900);}catch(e){alert('No se pudo copiar: '+e.message);} });
copyOutputBtn.addEventListener('click',async()=>{ try{ await navigator.clipboard.writeText(outputText.innerText||outputText.textContent); copyOutputBtn.textContent='Copiado'; setTimeout(()=>copyOutputBtn.textContent='Copiar traducci√≥n',900);}catch(e){alert('No se pudo copiar: '+e.message);} });
ttsBtn.addEventListener('click',()=>{ const text=outputText.innerText||outputText.textContent; if(!text)return alert('No hay texto para leer.'); if('speechSynthesis' in window){ const u=new SpeechSynthesisUtterance(text); u.lang=targetSelect.value||'en'; speechSynthesis.cancel(); speechSynthesis.speak(u); }else alert('Text-to-speech no soportado en este navegador.'); });
window.addEventListener('keydown',e=>{ if(e.ctrlKey && e.key==='Enter'){ translate(); } });
inputText.focus();
</script>
</body>
</html>
